# We have a conf and classes directory, append to BBPATH
BBPATH .= ":${LAYERDIR}"

# We have a recipes directory, add to BBFILES
BBFILES += " \
    ${LAYERDIR}/../../../bsp/meta-rcar/meta-rcar-gen3-adas/recipes-*/*/*.bb \
    ${LAYERDIR}/../../../bsp/meta-rcar/meta-rcar-gen3-adas/recipes-*/*/*.bbappend \
    ${LAYERDIR}/recipes-*/*/*.bb \
    ${LAYERDIR}/recipes-*/*/*.bbappend \
"

BBFILE_COLLECTIONS += "rcar-gen3-cogent"
BBFILE_PATTERN_rcar-gen3-cogent := "^${LAYERDIR}/../../../bsp/meta-rcar/meta-rcar-gen3-adas/"
BBFILE_PRIORITY_rcar-gen3-cogent = "7"

LAYERSERIES_COMPAT_rcar-gen3-cogent = "dunfell"

# should be MACHINE FEATURE OR OTHER INCLUSION MECHANISM. *NOT* IN LAYER.conf !!
# Radio packages
#IMAGE_INSTALL_append_rcar-gen3 += " \
#    si-tools \
#    si-init \
#    linux-firmware-wl18xx \
#    ti-bt \
#    ti-bt-firmware \
#    bluez5 \
#    bluez5-testtools \
#    ofono \
#    ofono-tests \
#"

# IMP  ---> MACHINE FEATURE. NOT IN LAYER.CONF !!
#IMAGE_INSTALL_append_r8a7797 += " \
#    kernel-module-uio-imp \
#    kernel-module-cmemdrv \
#    udev-rules-cvlib \
#"

# MACHINE FEATURE. NOT IN LAYER.CONF !!
#IMAGE_INSTALL_append_r8a7798 += " \
#    kernel-module-uio-imp \
#    kernel-module-cmemdrv \
#    udev-rules-cvlib \
#"

# SPECIAL USE CASE. MOVE TO IMAGE_FEATURE OR MACHINE_FEATURE, NOT DISTRO_FEATURE.
#DISTRO_FEATURES_append = " surroundview "

# NOT IN LAYER.CONF
#DISTRO_FEATURES_append = " bluetooth"

# NO NOT CHANGE SYSTEMD !!
BBMASK += "/meta-rcar-gen3-adas/recipes-core/systemd/"

# NO OPENCV beside upstream
BBMASK += "/meta-rcar-gen3-adas/recipes-graphics/opencv/"

# not required for AGL
BBMASK += "/meta-rcar-gen3-adas/recipes-benchmark/"

# NONE of the boards in there is used in AGL
BBMASK += "/meta-rcar-gen3-adas/recipes-bsp/arm-trusted-firmware/"

# DO NOT CHANGE bluez package
BBMASK += "/meta-rcar-gen3-adas/recipes-connectivity/bluez/"

# DO NOT CHANGE *core* images !!
BBMASK += "/meta-rcar-gen3-adas/recipes-core/images/"
BBMASK += "/meta-rcar-gen3-adas/recipes-core/packagegroups/nativesdk-packagegroup-sdk-host.bbappend"

# DO NOT PATCH CMAKE ... 
BBMASK += "/meta-rcar-gen3-adas/recipes-devtools/"

# DO NOT PATCH valgrind
BBMASK += "/meta-rcar-gen3-adas/recipes-devtools/valgrind/"

# DO NOT PATCH gcc-sanitizers
BBMASK += "/meta-rcar-gen3-adas/recipes-devtools/gcc/"

BBMASK += "/meta-rcar-gen3-adas/recipes-graphics/libpng/"
BBMASK += "/meta-rcar-gen3-adas/recipes-graphics/wayland/"

# NOTHING WE NEED
BBMASK += "/meta-rcar-gen3-adas/recipes-support/"

# NOTHING WE NEED
BBMASK += "/meta-rcar-gen3-adas/recipes-multimedia/gstreamer/"
BBMASK += "/meta-rcar-gen3-adas/recipes-multimedia/pulseaudio/"

